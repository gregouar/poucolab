# Collaborative Scientific Data Platform â€“ Project Description

WARNING: Generated by AI

## Overview

This project is a collaborative, structured-data platform for scientific teams, especially those working in fields like paleontology, archaeology, and ecology. It enables researchers to collect, manage, and analyze specimen-based measurement datasets with a focus on traceability, offline usability, and eventual integration of rich media (e.g., 3D models).

## Key Technologies

- **Backend**: Rust with Axum, JWT auth, PostgreSQL (auth and data databases), modular storage layer
- **Frontend**: Leptos (Rust), TailwindCSS
- **Deployment**: Docker on a self-hosted VPS for MVP, designed for later migration to S3-compatible storage and managed Postgres
- **Offline**: Future support via Tauri + SQLite with sync reconciliation

## Architectural Overview

### Databases

#### 1. Identity & Access Database (Auth DB)

Manages authentication, authorization, billing, and account access.

Tables:
- `users`: identity, hashed password (Argon2), plan info
- `teams`: team grouping and ownership
- `team_members`: team roles (admin, editor, viewer)
- `projects`: metadata, ownership, team linkage
- `project_memberships`: role mapping for users per project
- `plans`: usage limits and pricing
- `billing_audit`: optional for payment history and quotas

#### 2. Measurement Data Database (Data DB)

Stores project data records and associated metadata/media.

Tables:
- `templates`: JSON schema defining fields and constraints
- `records`: JSON data per template, versioned with user/time tracking
- `media_files`: linked to records, includes UUID, MIME type, user ownership

Design Goals:
- Schema-flexible, traceable measurements
- Optimistic locking for concurrency
- Scalable and replaceable media storage (local-to-S3)

## MVP Goals

- Team and personal projects with role-based access
- Structured record creation using templates
- Import/export functionality (CSV and R-compatible)
- Media upload per record
- Plan enforcement and future billing support

## Modular Design Principles

- JWT middleware handles auth + permissions
- Trait-based media storage abstraction (local vs cloud)
- Shared crate for types and validation logic
- Separate DBs: one for identity/billing, one for measurement data
- All file/media operations through abstracted storage service

## Post-MVP Targets

- Offline-first Tauri desktop app
- WebSocket-based real-time collaboration
- 3D viewer/annotation for media (e.g., fossils or specimens)
- DOI metadata export, public dataset sharing

## Prompt Usage

This project description can be used to ask generative tools for:

- Axum route examples for secure CRUD with role checks
- SQL schema migrations for access/project/data layers
- Leptos components for templated form rendering
- S3 trait abstractions for Rust storage layers
- Data import logic from CSV into JSON-record-based schema
